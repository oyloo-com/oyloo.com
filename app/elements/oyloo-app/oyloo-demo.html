<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="oyloo-demo">
  <template>
    <firebase-document location="[[location]]" data="{{doc}}">
    </firebase-document>
    <firebase-collection location="[[location]]/l" data="{{lists}}">
    </firebase-collection>
    <template is="dom-repeat" items="[[lists]]" as="list">
      <oyloo-list list="[[list]]" location="[[computeLocation(location,list.__firebaseKey__)]]">
    </template>
    <!--<oyloo-pretty-json object='[[list]]'></oyloo-pretty-json>-->
  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'oyloo-demo',
        properties: {
          location: String,
          title: {
            type: String,
            notify: true,
            value: 'Leanest Startup',
            computed: 'valueChanged(doc.t)'
          },
          name: {
            type: String,
            notify: true,
            value: 'Oyloo',
            computed: 'valueChanged(doc.n)'
          }
        },
        computeLocation: function(loc,key) {
          var location = loc + '/l/' + key + '/l';
          return location;
        },
        valueChanged: function(value) {
          return value;
        }
      });
    })();
  </script>
</dom-module>
